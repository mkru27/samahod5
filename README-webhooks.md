# 3 Bots ‚Äî Webhooks (FastAPI) for Render Free

–≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç **3 –±–æ—Ç–∞** (Customer / Pro / Dispatcher) —á–µ—Ä–µ–∑ **–≤–µ–±—Ö—É–∫–∏** –Ω–∞ –æ–¥–Ω–æ–º Web Service –≤ Render.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Render ‚Üí Environment)
```
CUSTOMER_BOT_TOKEN=...
PRO_BOT_TOKEN=...
DISPATCHER_BOT_TOKEN=...
ADMIN_IDS=123456789,987654321
SUPPORT_PHONE=+37529XXXXXXX
BASE_WEBHOOK_URL=https://<your-app>.onrender.com
WEBHOOK_SECRET=<–ª—é–±–∞—è_—Å—Ç—Ä–æ–∫–∞>   # —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
```

## –î–µ–ø–ª–æ–π (Render ‚Üí Web Service)
- Build Command: `pip install -r requirements.txt`
- Start Command: `uvicorn main_webhooks:app --host 0.0.0.0 --port $PORT`
- Region: –ª—é–±–æ–π
- Free plan: OK (—Å–µ—Ä–≤–∏—Å –º–æ–∂–µ—Ç ¬´—É—Å—ã–ø–∞—Ç—å¬ª –ø—Ä–∏ –ø—Ä–æ—Å—Ç–æ–µ)

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è –≤–µ–±—Ö—É–∫–∏ –≤—ã—Å—Ç–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (startup hook).
–ï—Å–ª–∏ –º–µ–Ω—è–ª–∏ –¥–æ–º–µ–Ω ‚Äî –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –¥–µ—Ä–Ω—É—Ç—å: `POST https://<your-app>.onrender.com/setup?key=<WEBHOOK_SECRET>`

## –ü—Ä–æ–≤–µ—Ä–∫–∞
1) –û—Ç–∫—Ä–æ–π—Ç–µ CustomerBot ‚Üí `/start` ‚Üí –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É ‚Üí –∑–∞–ø–æ–ª–Ω–∏—Ç–µ.
2) –í ProBot –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –¥–∏–ø–ª–∏–Ω–∫—É: `https://t.me/<username_ProBot>?start=exec`, –ø—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –æ–¥–æ–±—Ä–∏—Ç—å (`/exec_approve <id>` –≤ DispatcherBot).
3) –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–∏—à–ª–∞ **–≤ –ª–∏—á–∫—É** –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º –Ω—É–∂–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
4) –ù–∞–∂–º–∏—Ç–µ ¬´üëç –ë–µ—Ä—É¬ª ‚Üí –≤ DispatcherBot –ø—Ä–∏–¥—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

## –í–∞–∂–Ω–æ
- –í–µ–±—Ö—É–∫–∏ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–µ—à–Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã–π HTTPS-URL ‚Äî –¥–æ–º–µ–Ω Render –ø–æ–¥—Ö–æ–¥–∏—Ç.
- –ü—Ä–∏ ¬´—Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ¬ª Telegram –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å: —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.
- –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Render –∏ —á—Ç–æ `BASE_WEBHOOK_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.
